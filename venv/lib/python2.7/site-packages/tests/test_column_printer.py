import sys
import unittest

try:
    from cStringIO import StringIO
except ImportError:
    from io import StringIO

from python_util import ColumnPrinter


class TestColumnPrinter(unittest.TestCase):
    def test_ansi(self):
        output = StringIO()
        sys.stdout = output

        printer = ColumnPrinter()
        printer.append(('Test', 'Test'))
        printer.append(('\033[92mTEST\033[0m', '5'))
        printer.output()

        self.assertEquals(
            output.getvalue(),
            'Test    Test    \n\x1b[92mTEST\x1b[0m    5       \n'
        )


if __name__ == '__main__':
    unittest.main()
