import unittest

from python_util import docopt


class TestDocoptWrapper(unittest.TestCase):
    def test_missing(self):
        usage = "usage:\ntest.py [--x=X]"
        transforms = {'--x': int}
        expected = [
            (['--x', '2'], 2),
            ([], None)
        ]

        for args, result in expected:
            self.assertEqual(
                result,
                docopt(usage, argv=args, transforms=transforms)['--x']
            )


if __name__ == '__main__':
    unittest.main()
